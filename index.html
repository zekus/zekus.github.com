
<!DOCTYPE HTML>
<html>
<head>
	<meta charset="utf-8">
	<title>antoniolorusso.com</title>
	<meta name="author" content="Antonio Lorusso">

	
	<meta name="description" content="Jun 24th, 2013 libxml2, nokogiri, rails, ruby Comments Nokogiri Again, but Not Its Fault This Time Today it was a total waste of time as I was &hellip;">
	

  <!-- http://t.co/dKP3o1e -->
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">

	<link href="/atom.xml" rel="alternate" title="antoniolorusso.com" type="application/atom+xml">
	
	<link rel="canonical" href="http://zekus.github.io/">
	<link href="/favicon.png" rel="shortcut icon">
	<link href="/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">
	<!--[if lt IE 9]><script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script><![endif]-->
	<script src="//ajax.googleapis.com/ajax/libs/jquery/1.7.2/jquery.min.js"></script>
	<link href='http://fonts.googleapis.com/css?family=Open+Sans:400italic,400,700' rel='stylesheet' type='text/css'>
	<!--Fonts from Google"s Web font directory at http://google.com/webfonts -->
<link href="http://fonts.googleapis.com/css?family=PT+Serif:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">
<link href="http://fonts.googleapis.com/css?family=PT+Sans:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">

</head>


<body>
	<div class="container">
		<div class="left-col">
			<div class="intrude-less">
			<header id="header" class="inner"><div class="profilepic">	
	<script src="/javascripts/md5.js"></script>
	<script type="text/javascript">
		document.write("<img src='http://www.gravatar.com/avatar/" + MD5("antonio.lorusso@gmail.com") + "?s=160' alt='Profile Picture' style='width: 160px;'");
	</script>
</div>
<h1><a href="/">antoniolorusso.com</a></h1>
<p class="subtitle">A life long learning experience.</p>
<nav id="main-nav"><ul class="main">
  <li><a href="/">Blog</a></li>
  <li><a href="/vim-tricks-collection/">Vim Tricks</a></li>
  <li><a href="/blog/archives">Archives</a></li>
  <li><a href="http://careers.stackoverflow.com/antoniolorusso">Resume</a></li>
  <li><a href="/su-questo-blog/">About</a></li>
  <li><a href="/useful-regex/">Regex</a></li>
</ul>
</nav>
<nav id="sub-nav">
	<div class="social">
		
		
		<a class="google" href="https://plus.google.com/102784234913032371944?rel=author" title="Google+">Google+</a>
		
		
		<a class="twitter" href="http://twitter.com/antoniolorusso" title="Twitter">Twitter</a>
		
		
		<a class="github" href="https://github.com/zekus" title="GitHub">GitHub</a>
		
		
		<a class="linkedin" href="http://www.linkedin.com/in/antoniolorusso">LinkedIn</a>
		
		
		
		
		
		<a class="rss" href="/atom.xml" title="RSS">RSS</a>
		
	</div>
</nav>

</header>				
			</div>
		</div>	
		<div class="mid-col">
			
				
			
			<div class="mid-col-container">
				<div id="content" class="inner">
<div itemscope itemtype="http://schema.org/Blog">


    <article class="post" itemprop="blogPost" itemscope itemtype="http://schema.org/BlogPosting">
	<div class="meta">
		<div class="date">








  


<time datetime="2013-06-24T19:38:00+02:00" data-updated="true" itemprop="datePublished">Jun 24<span>th</span>, 2013</time></div>
		<div class="tags">


	<a class='category' href='/blog/categories/libxml2/'>libxml2</a>, <a class='category' href='/blog/categories/nokogiri/'>nokogiri</a>, <a class='category' href='/blog/categories/rails/'>rails</a>, <a class='category' href='/blog/categories/ruby/'>ruby</a>


</div>
		
			<span class="comments"><a href="/blog/2013/06/24/nokogiri-again-but-not-its-fault-this-time/#disqus_thread">Comments</a></span>
		
	</div>
	<h1 class="title" itemprop="name"><a href="/blog/2013/06/24/nokogiri-again-but-not-its-fault-this-time/" itemprop="url">Nokogiri Again, but Not Its Fault This Time</a></h1>
	<div class="entry-content" itemprop="articleBody">
		<p>Today it was a total waste of time as I was trying to figure out why the F* nokogiri was not getting installed into my new project gemset.
First thing I had to figure out, was that Nokogiri now ships with libxml2 and libxslt that get compiled and installed with the gem itself.
Second thing was that libxslt was not getting compiled because it could not find an &ldquo;acceptable grep&rdquo;! Go figure! After many trials and unfruitful google
searches I decided to try with a different user and that maybe, if google was not returning any useful result, it was my configuration that was weird.
It turned out that I was correct and the problem was related to my <em>GREP_OPTIONS</em>. I had the following in my .zshrc</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='bash'><span class='line'><span class="nb">export </span><span class="nv">GREP_OPTIONS</span><span class="o">=</span><span class="s2">&quot;--exclude-dir=.svn --exclude-dir=.git -nR --color&quot;</span>
</span></code></pre></td></tr></table></div></figure>


<p>and, after removing the <em>-nR</em> options, I was finally able to install nokogiri correctly.</p>

		
		
	</div>

</article>


    <article class="post" itemprop="blogPost" itemscope itemtype="http://schema.org/BlogPosting">
	<div class="meta">
		<div class="date">








  


<time datetime="2013-04-29T11:51:00+02:00" data-updated="true" itemprop="datePublished">Apr 29<span>th</span>, 2013</time></div>
		<div class="tags">


	<a class='category' href='/blog/categories/others/'>others</a>


</div>
		
			<span class="comments"><a href="/blog/2013/04/29/long-time-no-see/#disqus_thread">Comments</a></span>
		
	</div>
	<h1 class="title" itemprop="name"><a href="/blog/2013/04/29/long-time-no-see/" itemprop="url">Long Time No See</a></h1>
	<div class="entry-content" itemprop="articleBody">
		<p>I’ve finally had the time and the strength to get back to my old blog and give it a new look.</p>

<p>I feel guilty about having abandoned it for long time :(</p>

<p>I promise, blog, I won’t leave you alone again.</p>

		
		
	</div>

</article>


    <article class="post" itemprop="blogPost" itemscope itemtype="http://schema.org/BlogPosting">
	<div class="meta">
		<div class="date">








  


<time datetime="2012-06-24T23:43:00+02:00" data-updated="true" itemprop="datePublished">Jun 24<span>th</span>, 2012</time></div>
		<div class="tags">

</div>
		
			<span class="comments"><a href="/blog/2012/06/24/moving-to-octopress/#disqus_thread">Comments</a></span>
		
	</div>
	<h1 class="title" itemprop="name"><a href="/blog/2012/06/24/moving-to-octopress/" itemprop="url">Moving to Octopress</a></h1>
	<div class="entry-content" itemprop="articleBody">
		<p>I&rsquo;ve been delaying this migrations for ages now but here we are, it finally happened:
I can write a blog post with my favourite editor now (Vim) and publish it to the web like a pro on my favourite dev website (GitHub) using git&hellip; that&rsquo;s too many emotions for one single day :P</p>

<h3>So, how did I do it?</h3>

<p>There are tons of tutorials already on the net that explain very well how to migrate from Wordpress to Octopress so I&rsquo;m not going to explain here all the details but make just a quick summary even for myself as a note:</p>

<ul>
<li>Download, install and follow the instructions of <a href="https://github.com/thomasf/exitwp">exitwp</a></li>
<li>Run a regex to fix the code blocks like:</li>
</ul>


<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='bash'><span class='line'>perl -pi -e <span class="s1">&#39;s/([^\`]|^)(\`)([^\`]|$)/$1\n\`\`\`\n$3/g&#39;</span> *
</span></code></pre></td></tr></table></div></figure>


<ul>
<li>If you have been using Disqus on Wordpress before moving to Octopress, for some reason <em>exitwp</em> doesn&rsquo;t add the <em>comments: true</em> parameter in the posts so use this sed command to fix it:</li>
</ul>


<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
</pre></td><td class='code'><pre><code class='bash'><span class='line'>find _posts/ -type f -print0 | xargs -0 -I file sed -i <span class="s1">&#39;&#39;</span> <span class="s1">&#39;2 i\</span>
</span><span class='line'><span class="s1">comments: true</span>
</span><span class='line'><span class="s1">&#39;</span> file
</span></code></pre></td></tr></table></div></figure>


<ul>
<li>Octopress posts url is different from the Wordpress one so you&rsquo;re going to have to remap the Disqus comments using their <a href="http://help.disqus.com/customer/portal/articles/286778-using-the-migration-tools">migration tool</a> and a bit of patience</li>
</ul>


<p>The next step will be playing with the theme to make it more &ldquo;personal&rdquo; :)</p>

		
		
	</div>

</article>


    <article class="post" itemprop="blogPost" itemscope itemtype="http://schema.org/BlogPosting">
	<div class="meta">
		<div class="date">








  


<time datetime="2012-05-23T16:57:38+02:00" data-updated="true" itemprop="datePublished">May 23<span>rd</span>, 2012</time></div>
		<div class="tags">


	<a class='category' href='/blog/categories/altro/'>Altro</a>


</div>
		
			<span class="comments"><a href="/blog/2012/05/23/mod_rpaf-and-ubuntu-12-04/#disqus_thread">Comments</a></span>
		
	</div>
	<h1 class="title" itemprop="name"><a href="/blog/2012/05/23/mod_rpaf-and-ubuntu-12-04/" itemprop="url">Mod_rpaf and Ubuntu 12.04</a></h1>
	<div class="entry-content" itemprop="articleBody">
		<p><rant> Canonical, seriously, what&rsquo;s wrong with you people? How dare you calling the 12.04 a LTS version? Have you testend on EC2? and cloud-init? It&rsquo;s a bloody mess! </rant></p>

<p>So, you upgraded and mod_rpaf behind your proxy is not working anymore? Do this:</p>

<p>FROM =====></p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>&lt;IfModule mod_rpaf.c&gt;
</span><span class='line'>RPAFenable On
</span><span class='line'>RPAFsethostname On
</span><span class='line'>RPAFproxy_ips 127.0.0.1
</span><span class='line'>&lt;/IfModule&gt;</span></code></pre></td></tr></table></div></figure>


<p>TO =======></p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>&lt;IfModule mod_rpaf-2.0.c&gt;
</span><span class='line'>RPAFenable On
</span><span class='line'>RPAFsethostname On
</span><span class='line'>RPAFproxy_ips 127.0.0.1
</span><span class='line'>&lt;/IfModule&gt;</span></code></pre></td></tr></table></div></figure>


<p>Find the differences and thank <a href="http://ffnz.tumblr.com/post/23078644987/rpaf-mod-not-working-on-ubuntu-12-04">this guy</a> that find it before me.</p>

		
		
	</div>

</article>


    <article class="post" itemprop="blogPost" itemscope itemtype="http://schema.org/BlogPosting">
	<div class="meta">
		<div class="date">








  


<time datetime="2012-05-02T22:37:09+02:00" data-updated="true" itemprop="datePublished">May 2<span>nd</span>, 2012</time></div>
		<div class="tags">


	<a class='category' href='/blog/categories/altro/'>Altro</a>


</div>
		
			<span class="comments"><a href="/blog/2012/05/02/send-headers-with-selenium-and-phpunit/#disqus_thread">Comments</a></span>
		
	</div>
	<h1 class="title" itemprop="name"><a href="/blog/2012/05/02/send-headers-with-selenium-and-phpunit/" itemprop="url">Send Headers With Selenium and PHPUnit?</a></h1>
	<div class="entry-content" itemprop="articleBody">
		<p>Just dont waste your life and use curl if you need to do that.</p>

<p>I know, this is a useless post but I just wasted a huge amount of time trying to find a solution and I feel like giving this advice to someone.</p>

<p>happy testing :)</p>

		
		
	</div>

</article>


    <article class="post" itemprop="blogPost" itemscope itemtype="http://schema.org/BlogPosting">
	<div class="meta">
		<div class="date">








  


<time datetime="2012-04-01T14:58:51+02:00" data-updated="true" itemprop="datePublished">Apr 1<span>st</span>, 2012</time></div>
		<div class="tags">


	<a class='category' href='/blog/categories/linux/'>Linux</a>, <a class='category' href='/blog/categories/shell/'>shell</a>


</div>
		
			<span class="comments"><a href="/blog/2012/04/01/409/#disqus_thread">Comments</a></span>
		
	</div>
	<h1 class="title" itemprop="name"><a href="/blog/2012/04/01/409/" itemprop="url">Perl: Warning: Setting Locale Failed.</a></h1>
	<div class="entry-content" itemprop="articleBody">
		<p>Tired of this:</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>perl: warning: Setting locale failed.
</span><span class='line'>perl: warning: Please check that your locale settings:
</span><span class='line'>LANGUAGE = "en_US:en",
</span><span class='line'>LC_ALL = (unset),
</span><span class='line'>LC_CTYPE = "en_GB.UTF-8",
</span><span class='line'>LANG = "en_US.UTF-8"
</span><span class='line'>are supported and installed on your system.
</span><span class='line'>perl: warning: Falling back to the standard locale ("C").
</span><span class='line'>locale: Cannot set LC_CTYPE to default locale: No such file or directory
</span><span class='line'>locale: Cannot set LC_ALL to default locale: No such file or directory</span></code></pre></td></tr></table></div></figure>


<p>Do this:</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>export LANGUAGE=en_US.UTF-8
</span><span class='line'>export LANG=en_US.UTF-8
</span><span class='line'>export LC_ALL=en_US.UTF-8
</span><span class='line'>sudo locale-gen en_US.UTF-8
</span><span class='line'>sudo dpkg-reconfigure locales</span></code></pre></td></tr></table></div></figure>


<p>Be happy again :)</p>

		
		
	</div>

</article>


    <article class="post" itemprop="blogPost" itemscope itemtype="http://schema.org/BlogPosting">
	<div class="meta">
		<div class="date">








  


<time datetime="2012-02-18T15:32:41+01:00" data-updated="true" itemprop="datePublished">Feb 18<span>th</span>, 2012</time></div>
		<div class="tags">


	<a class='category' href='/blog/categories/ruby/'>Ruby</a>, <a class='category' href='/blog/categories/mac/'>mac</a>


</div>
		
			<span class="comments"><a href="/blog/2012/02/18/ruby-1-9-3-p125-and-rvm-on-mac/#disqus_thread">Comments</a></span>
		
	</div>
	<h1 class="title" itemprop="name"><a href="/blog/2012/02/18/ruby-1-9-3-p125-and-rvm-on-mac/" itemprop="url">Ruby 1.9.3-p125 and RVM on Mac</a></h1>
	<div class="entry-content" itemprop="articleBody">
		<p>A <a href="http://www.ruby-lang.org/en/news/2012/02/16/ruby-1-9-3-p125-is-released/">new ruby version</a> is out and it&rsquo;s time to upgrade! The first try gave me this error:</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>?  ~  rvm install 1.9.3-p125
</span><span class='line'>Error running ' ./configure --prefix=/Users/antonio/.rvm/rubies/ruby-1.9.3-p125 --enable-shared --disable-install-doc --with-libyaml --with-opt-dir=/Users/antonio/.rvm/usr ', please read /Users/antonio/.rvm/log/ruby-1.9.3-p125/configure.log
</span><span class='line'>There has been an error while running configure. Halting the installation.</span></code></pre></td></tr></table></div></figure>


<p>Adding the compiler option &ldquo;&mdash;with-gcc=clang&rdquo; worked:</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>?  ~  rvm install 1.9.3-p125 --with-gcc=clang
</span><span class='line'>Install of ruby-1.9.3-p125 - #complete</span></code></pre></td></tr></table></div></figure>


<p>enjoy Ruby :)</p>

		
		
	</div>

</article>


    <article class="post" itemprop="blogPost" itemscope itemtype="http://schema.org/BlogPosting">
	<div class="meta">
		<div class="date">








  


<time datetime="2011-06-11T14:32:48+02:00" data-updated="true" itemprop="datePublished">Jun 11<span>th</span>, 2011</time></div>
		<div class="tags">


	<a class='category' href='/blog/categories/ruby/'>Ruby</a>, <a class='category' href='/blog/categories/mac/'>mac</a>


</div>
		
			<span class="comments"><a href="/blog/2011/06/11/nokogiri-rvm-homebrew-and-headhache/#disqus_thread">Comments</a></span>
		
	</div>
	<h1 class="title" itemprop="name"><a href="/blog/2011/06/11/nokogiri-rvm-homebrew-and-headhache/" itemprop="url">Nokogiri, RVM, Homebrew and Headhache!!!</a></h1>
	<div class="entry-content" itemprop="articleBody">
		<p>Thanks to a gist (which I forked and slightly changed) I was able to finally install Nokogiri on my mac:</p>

<div><script src='https://gist.github.com/1020543.js'></script>
<noscript><pre><code></code></pre></noscript></div>


<p>If you had MacPorts previously installed, it might still not work so</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>sudo mv /opt/local /opt/local_old</span></code></pre></td></tr></table></div></figure>


<p>and try again.</p>

<p>Enjoy :)</p>

		
		
	</div>

</article>


    <article class="post" itemprop="blogPost" itemscope itemtype="http://schema.org/BlogPosting">
	<div class="meta">
		<div class="date">








  


<time datetime="2011-05-09T00:11:25+02:00" data-updated="true" itemprop="datePublished">May 9<span>th</span>, 2011</time></div>
		<div class="tags">


	<a class='category' href='/blog/categories/mac/'>mac</a>


</div>
		
			<span class="comments"><a href="/blog/2011/05/09/openvpn-at-startup-in-osx/#disqus_thread">Comments</a></span>
		
	</div>
	<h1 class="title" itemprop="name"><a href="/blog/2011/05/09/openvpn-at-startup-in-osx/" itemprop="url">OpenVPN at Startup in OSX</a></h1>
	<div class="entry-content" itemprop="articleBody">
		<p>The easiest way of getting an OpenVPN client on mac is with <a href="http://code.google.com/p/tunnelblick/wiki/DownloadsEntry?tm=2">Tunnelblick</a> but you will join the VPN only when you have logged in. Sometimes you need your mac to connect at startup instead and I&rsquo;ll show you how to do it:</p>

<p>create /etc/rc.local and copy/paste the following three lines in it:</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>#!/bin/bash
</span><span class='line'>/sbin/kextload /Applications/Tunnelblick.app/Contents/Resources/tap.kext
</span><span class='line'>/sbin/kextload /Applications/Tunnelblick.app/Contents/Resources/tun.kext</span></code></pre></td></tr></table></div></figure>


<p>then create a Launch script like this for each of the vpn you want to connect to, replacing <em>YOURVPNNAME</em>, <em>YOURCONFIGFILE</em>, <em>YOUR/CONFIG/FOLDER</em> accordingly:</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
<span class='line-number'>21</span>
<span class='line-number'>22</span>
<span class='line-number'>23</span>
<span class='line-number'>24</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>&lt;?xml version="1.0" encoding="UTF-8"?&gt;
</span><span class='line'>&lt;!DOCTYPE plist PUBLIC "-//Apple//DTD PLIST 1.0//EN" "http://www.apple.com/DTDs/PropertyList-1.0.dtd"&gt;
</span><span class='line'>&lt;plist version="1.0"&gt;
</span><span class='line'>&lt;dict&gt;
</span><span class='line'>&lt;key&gt;Label&lt;/key&gt;
</span><span class='line'>&lt;string&gt;org.openvpn.YOURVPNNAME&lt;/string&gt;
</span><span class='line'>&lt;key&gt;OnDemand&lt;/key&gt;
</span><span class='line'>&lt;false/&gt;
</span><span class='line'>&lt;key&gt;Program&lt;/key&gt;
</span><span class='line'>&lt;string&gt;/Applications/Tunnelblick.app/Contents/Resources/openvpn&lt;/string&gt;
</span><span class='line'>&lt;key&gt;ProgramArguments&lt;/key&gt;
</span><span class='line'>&lt;array&gt;
</span><span class='line'>&lt;string&gt;openvpn&lt;/string&gt;
</span><span class='line'>&lt;string&gt;--config&lt;/string&gt;
</span><span class='line'>&lt;string&gt;YOURCONFIGFILE.conf&lt;/string&gt;
</span><span class='line'>&lt;/array&gt;
</span><span class='line'>&lt;key&gt;RunAtLoad&lt;/key&gt;
</span><span class='line'>&lt;true/&gt;
</span><span class='line'>&lt;key&gt;TimeOut&lt;/key&gt;
</span><span class='line'>&lt;integer&gt;90&lt;/integer&gt;
</span><span class='line'>&lt;key&gt;WorkingDirectory&lt;/key&gt;
</span><span class='line'>&lt;string&gt;YOUR/CONFIG/FOLDER&lt;/string&gt;
</span><span class='line'>&lt;/dict&gt;
</span><span class='line'>&lt;/plist&gt;</span></code></pre></td></tr></table></div></figure>


<p>save each script into <em>/Library/LaunchDaemons/</em> folder using a name for the file like <em>org.openvpn.YOURVPNNAME.plist</em>, then change the user and group to root:wheel with the following command in a terminal window:</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>sudo chown root:wheel /Library/LaunchDaemon/org.openvpn.YOURVPNNAME</span></code></pre></td></tr></table></div></figure>


<p>last commands to register and execute your Launch scripts are:</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>sudo launchctl load /Library/LaunchDaemon/org.openvpn.YOURVPNNAME.plist
</span><span class='line'>sudo launchctl start org.openvpn.YOURVPNNAME</span></code></pre></td></tr></table></div></figure>


<p>a restart should be the very last thing to do and once your mac has started you shoud be connected to your vpn network(s)!</p>

<p>enjoy ;)</p>

<p><strong>UPDATE: </strong>the new version of tunnelblick 3.2beta26 does have the the &ldquo;connect when computer starts&rdquo; functionality that automatically makes this post obsolete. I&rsquo;ll just keep it for the records :)</p>

		
		
	</div>

</article>


    <article class="post" itemprop="blogPost" itemscope itemtype="http://schema.org/BlogPosting">
	<div class="meta">
		<div class="date">








  


<time datetime="2011-01-04T11:35:52+01:00" data-updated="true" itemprop="datePublished">Jan 4<span>th</span>, 2011</time></div>
		<div class="tags">


	<a class='category' href='/blog/categories/altro/'>Altro</a>


</div>
		
			<span class="comments"><a href="/blog/2011/01/04/exclude-files-and-directories-from-apache-auth/#disqus_thread">Comments</a></span>
		
	</div>
	<h1 class="title" itemprop="name"><a href="/blog/2011/01/04/exclude-files-and-directories-from-apache-auth/" itemprop="url">Exclude Files and Directories From Apache Auth</a></h1>
	<div class="entry-content" itemprop="articleBody">
		<p>It would have made sense to use LocationMatch with a negative lookahead regex pattern like &ldquo;^/(?!admin)&rdquo; but that doesnt work. Neither work a rule like !&ldquo;^/admin&rdquo; so here is a workaround:</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>&lt;Location "/"&gt;  
</span><span class='line'>AuthType Basic  
</span><span class='line'>AuthName "Restricted Files"  
</span><span class='line'>AuthUserFile /var/www/clients/client12/web17/passwd  
</span><span class='line'>AuthGroupFile /dev/null  
</span><span class='line'>Require valid-user  
</span><span class='line'>SetEnvIf Request_URI "^/(admin|skin|js|index)(.*)$" allow  
</span><span class='line'>SetEnvIf Request_URI "^/favicon.ico$" allow  
</span><span class='line'>Order allow,deny  
</span><span class='line'>Allow from env=allow  
</span><span class='line'>Satisfy Any  
</span><span class='line'>&lt;/Location&gt;</span></code></pre></td></tr></table></div></figure>


<p>This basically allow the access without authentication to the directories/files that start with admin, skin, js or index. The other rule allow the favicon too.</p>

		
		
	</div>

</article>

</div>
<nav id="pagenavi">
    
    
        <a href="/blog/page/2/" class="next">Next</a>
    
    <div class="center"><a href="/blog/archives">Blog Archives</a></div>
</nav></div>
			</div>
			<footer id="footer" class="inner">Copyright &copy; 2013

    Antonio Lorusso


Design credit: <a href="http://shashankmehta.in/archive/2012/greyshade.html">Shashank Mehta</a></footer>
			<script src="/javascripts/slash.js"></script>
<script src="/javascripts/jquery.fancybox.pack.js"></script>
<script type="text/javascript">
(function($){
	$('.fancybox').fancybox();
})(jQuery);
</script> <!-- Delete or comment this line to disable Fancybox -->


<script type="text/javascript">
      var disqus_shortname = 'antoniolorussocom';
      
        
        var disqus_script = 'count.js';
      
    (function () {
      var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
      dsq.src = 'http://' + disqus_shortname + '.disqus.com/' + disqus_script;
      (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    }());
</script>



	<script type="text/javascript">
		var _gaq = _gaq || [];
		_gaq.push(['_setAccount', 'UA-2445881-1']);
		_gaq.push(['_trackPageview']);

		(function() {
			var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
			ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
			var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
		})();
	</script>




		</div>
	</div>
</body>
</html>
