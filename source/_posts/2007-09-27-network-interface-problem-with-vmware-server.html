---
layout: post
title: Network interface problem with vmware server
tags:
- Linux
status: publish
type: post
published: true
meta: {}
---
So long time has passed from my last post... I've just been busy :/

Do you remember about the third part of vmware server installation never posted? Well I installed <a href="http://www.fs-security.com/" title="firestarter" target="_blank">Firestarter</a> as service and configured the firewall via the gui...

I'd have used IPTables directly, but the learing curve it's too high and I didnt had time for that because I was pressed by the work so, finally, I decided for this quick solution.

The server works like a charm, however ;)

I just had a bug to correct, and today, I had time to find a solution: automatically started virtual machines set to start connected in VMware Console, fail with following error (from log file):
<blockquote>Could not get interface flags for vmnet1: No such device Virtual device Ethernet0 will start disconnected.</blockquote>
The problem is that <span style="font-weight: bold" class="Apple-style-span">vmnet1</span> adapter is slow initializing so vmware do it in background while continuing the boot process. If a VMware virtual machine is set to start automatically the vmnet1 adapter may not finish initializing in time, generating the error!
<h3>Solution</h3>

```

sudo nano /usr/lib/vmware-server/net-services.sh
```
 locate the following line ```vmware_bg_exec 'Host-only networking on /dev/vmnet'"$vHubNr" \``` then substitute <span style="font-weight: bold">vmware_bg_exec</span> with <span style="font-weight: bold">vmware_exec</span>

This substitution let vmware wait vmnet adapter to be initialized instead of continuing with boot.

Now, the problem, should be solved ;)

ps. this bug is still present in <span style="font-weight: bold" class="Apple-style-span"><span style="font-style: italic" class="Apple-style-span">VMWare server 1.0.3</span></span>!
