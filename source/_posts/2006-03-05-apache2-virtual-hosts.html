---
layout: post
title: Apache2 Virtual Hosts
tags:
- Linux
status: publish
type: post
published: true
meta:
  blogger_blog: zubuntu.blogspot.com
  blogger_author: zekus
  blogger_permalink: /2006/03/apache2-virtual-hosts.html
---
Hey guys,<br />we're going to add a new virtual host in apache2<br /><br />1) create a new virtual host file in /etc/apache2/sites-available<br /><div style="margin: 5px 20px 20px;">  <div class="smallfont" style="margin-bottom: 2px;">Code:</div>  <pre class="alt2" style="border: 1px inset ; margin: 0px; padding: 6px; overflow: auto; width: 640px; height: 50px;"><div dir="ltr" style="text-align: left;">$ cd /etc/apache2/sites-available<br />$ touch newhost</div></pre></div> 2) use your favourite editor to put what follows in that file. Change the document root to wherever you want to put your host. Change the server name to the address where you want to access your host:<br /><div style="margin: 5px 20px 20px;">  <div class="smallfont" style="margin-bottom: 2px;">Code:</div> <pre class="alt2" style="border: 1px inset ; margin: 0px; padding: 6px; overflow: auto; width: 640px; height: 274px;"><br />&lt;VirtualHost *&gt;<br />   ServerName rails<br />   DocumentRoot /var/www/newhost/<br /><br />   &lt;Directory /var/www/newhost/&gt;<br /><br />       AllowOverride all<br />       Order allow,deny<br />       Allow from all<br /><br />   &lt;/Directory&gt;<br />&lt;/VirtualHost&gt;</pre></div>3) having set up this file, we then need to symlink to it from the sites-enabled directory. Let's do that now:<br /><br /><div style="margin: 5px 20px 20px;">  <div class="smallfont" style="margin-bottom: 2px;">Code:</div>  <pre class="alt2" style="border: 1px inset ; margin: 0px; padding: 6px; overflow: auto; width: 640px; height: 50px;"><div dir="ltr" style="text-align: left;">$ cd /etc/apache2/sites-enabled<br />$ ln -s ../sites-available/newhost newhost</div></pre> </div><br />4) In order to get the apache2 server to display this site when you access it, you've got to add this ServerName alias next to 127.0.0.1 in your /etc/hosts file, or your web browser is _not_ going to know where to go when you give it in your address bar. Here's the beginning of mine:<br /><br /><div style="margin: 5px 20px 20px;">  <div class="smallfont" style="margin-bottom: 2px;">Code:</div>  <pre class="alt2" style="border: 1px inset ; margin: 0px; padding: 6px; overflow: auto; width: 640px; height: 34px;"><div dir="ltr" style="text-align: left;">127.0.0.1 newhost etc...</div></pre> </div><br />5) Now we're pretty well done (so long as I haven't left a step out). Restart your apache2 with:<br /><br /><div style="margin: 5px 20px 20px;">  <div class="smallfont" style="margin-bottom: 2px;">Code:</div>  <pre class="alt2" style="border: 1px inset ; margin: 0px; padding: 6px; overflow: auto; width: 640px; height: 34px;"><div dir="ltr" style="text-align: left;">$ /etc/init.d/apache2 restart</div></pre> </div><br /><br />see you next,<br />Antonio<br /><br />ps. Thanks to <a href="http://ubuntuforums.org/showthread.php?p=748531">Siennalizard</a>
