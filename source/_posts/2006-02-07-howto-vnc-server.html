---
layout: post
title: howto vnc server
tags:
- Linux
status: publish
type: post
published: true
meta:
  blogger_blog: zubuntu.blogspot.com
  blogger_author: zekus
  blogger_permalink: /2006/02/howto-vnc-server.html
---
1. Enable XDMCP<br /><blockquote>System->Administration->Login Screen Setup<br />Tab Security->Enable XDMCP<br /></blockquote><br />2. Install required packages (vncserver and xinetd)<br /><blockquote><br />sudo apt-get install vnc4server xinetd</blockquote><br />3. Set the VNC passwd<br /><blockquote>sudo vncpasswd /root/.vncpasswd</blockquote><br />4. Add vnc service to xinetd:<br /><blockquote><br />sudo gedit /etc/xinetd.d/Xvnc</blockquote><br />Enter this into the new file:<br /><blockquote>service Xvnc1 <br />{ <br />type = UNLISTED <br />disable = no <br />socket_type = stream <br />protocol = tcp <br />wait = yes <br />user = root <br />server = /usr/bin/Xvnc <br />server_args = -inetd :1 -query localhost -geometry 1024x768 -depth 16 -once -fp /usr/share/X11/fonts/misc passwordFile=/root/.vncpasswd <br />port = 5901 <br />}</blockquote><br />For more than one vnc session, duplicate the code above incrementing the screen number and the port as in the code below<br /><blockquote>service Xvnc1 <br />{ <br />type = UNLISTED <br />disable = no <br />socket_type = stream <br />protocol = tcp <br />wait = yes <br />user = root <br />server = /usr/bin/Xvnc <br />server_args = -inetd :1 -query localhost -geometry 1024x768 -depth 16 -once -fp /usr/share/X11/fonts/misc passwordFile=/root/.vncpasswd <br />port = 5901 <br />}<br /><br />service Xvnc2 <br />{ <br />type = UNLISTED <br />disable = no <br />socket_type = stream <br />protocol = tcp <br />wait = yes <br />user = root <br />server = /usr/bin/Xvnc <br />server_args = -inetd :2 -query localhost -geometry 1024x768 -depth 16 -once -fp /usr/share/X11/fonts/misc passwordFile=/root/.vncpasswd <br />port = 5902 <br />}<br /><br />service Xvnc<span style="font-style:italic;">n</span> <br />{ <br />type = UNLISTED <br />disable = no <br />socket_type = stream <br />protocol = tcp <br />wait = yes <br />user = root <br />server = /usr/bin/Xvnc <br />server_args = -inetd :<span style="font-style:italic;">n</span> -query localhost -geometry 1024x768 -depth 16 -once -fp /usr/share/X11/fonts/misc passwordFile=/root/.vncpasswd <br />port = 590<span style="font-style:italic;">n</span> <br />}<br /></blockquote><br />5. Restart xinetd (usually there is no need to reboot, but occasionally it might be required)<br /><blockquote><br />sudo /etc/init.d/xinetd stop <br />sudo killall Xvnc <br />sudo /etc/init.d/xinetd start</blockquote><br />6. That's it! To test that this is working first try to connect from the same machine (the machine we just set up the VNC server on):<br /><blockquote>vncviewer localhost:1</blockquote>
